RewriteEngine On

## Note: If you are installing Hazard system via Apache's "Alias"
##       configuration rather than plain subdirectory, then you need to
##       uncomment the "RewriteBase" line and *change it to your URI alias path*
##       or you'll get a nonsensical HTTP 400 Bad Request error.
##       See: http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritebase
##
##       For example, from Apache configuration:
##         Alias /hazard "C:/prog/hazardproject"
##       the RewriteBase line will be
##         RewriteBase /hazard/
##
# RewriteBase /hazard/

RewriteRule ^$ home.php

RewriteRule ^login/$ login.php
RewriteRule ^login$ login/

RewriteRule ^logout/$ logout.php
RewriteRule ^logout$ logout/

RewriteRule ^user/$ user.php
RewriteRule ^user$ user/

RewriteRule ^user/edit$ user.php?edit=1
RewriteRule ^user/edit/$ user/edit

RewriteRule ^requests/$ requests.php
RewriteRule ^requests$ requests/

RewriteRule ^requests/new/$ requests.php?new=1
RewriteRule ^requests/new$ requests/new/

RewriteRule ^requests/([0-9]+)/$ requests.php?requestid=$1
RewriteRule ^requests/([0-9]+)$ requests/$1/

RewriteRule ^requests/([0-9]+)/edit/$ requests.php?requestid=$1&edit=1
RewriteRule ^requests/([0-9]+)/edit$ requests/$1/edit/

RewriteRule ^doc/([0-9]+)/([0-9]+)/([0-9]+)/$ doc.php?requestid=$1&doctype=$2&docid=$3
RewriteRule ^doc/([0-9]+)/([0-9]+)/([0-9]+)$ doc/$1/$2/$3/

RewriteRule ^doc/([0-9]+)/([0-9]+)/new/$ doc.php?requestid=$1&doctype=$2&new=1
RewriteRule ^doc/([0-9]+)/([0-9]+)/new$ doc/$1/$2/new/
